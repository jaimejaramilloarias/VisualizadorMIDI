1. [x] Configurar la estructura base del proyecto web (HTML, CSS, JS) y mostrar un canvas de 720px de alto junto a los menús superior e inferior sin funcionalidades.
2. [x] Implementar botón “Cargar MIDI/XML” y lógica básica para leer archivos MIDI/XML extrayendo note ON/OFF, duración, velocidad, tempo y nombres de pista.
3. [x] Implementar botón “Cargar WAV” y reproducción de audio, eliminando silencios iniciales y sincronizando el playhead con la animación.
4. [x] Crear estructura de datos que relacione cada pista con su instrumento y familia, asignando formas y colores predeterminados.
5. [x] Dibujar notas básicas en el canvas desplazándose de derecha a izquierda, alineadas con NOTE ON/OFF y la línea de presente al centro.
6. [x] Incorporar opacidad variable en los extremos, cambio brusco al 100% en la línea de presente y retorno progresivo al 5%.
7. [x] Añadir efectos de “bump” y “brillo” en el NOTE ON presente.
8. [x] Implementar figuras geométricas correspondientes a cada familia.
9. [x] Agregar controles de reproducción: Play/Stop (barra espaciadora), Adelantar, Atrasar e Inicio.
10. [x] Añadir opciones de aspecto 16:9 y 9:16, con soporte para pantalla completa y supermuestreo.
11. [x] Implementar menú inferior con dropdowns de Instrumento y Familia siempre visibles, y panel desplegable para personalizar color y figura por familia.
12. [x] Optimizar rendimiento y modularizar el código con comentarios claros para facilitar el desarrollo incremental.
13. [x] Implementar pruebas unitarias básicas para las funciones de parseo de archivos MIDI y MusicXML.
14. [x] Integrar la estructura de pistas con el menú inferior, poblando dinámicamente el dropdown de instrumentos según los archivos cargados.
15. [x] Renderizar rectángulos estáticos en el canvas representando notas basadas en eventos (subtarea de la 5).
16. [x] Animar las notas desplazándose de derecha a izquierda sincronizadas con el tiempo.
17. [x] Crear pruebas unitarias para la lógica de opacidad y efectos visuales.
18. [x] Crear pruebas unitarias para los controles de reproducción.
19. [x] Crear pruebas unitarias para el efecto de brillo en el NOTE ON.
20. [x] Implementar figuras geométricas alargadas para cada familia.
21. [x] Aplicar variaciones de tono de color por instrumento dentro de cada familia.
22. [x] Crear pruebas unitarias para las figuras geométricas alargadas.
23. [x] Crear pruebas unitarias para las variaciones de tono de color por instrumento.
24. [x] Ajustar representación de figuras no alargadas y tamaños especiales por familia (platillos +30%, auxiliares +30% bump, etc.).
25. [x] Crear pruebas unitarias para los modificadores de familia.
26. [x] Crear pruebas unitarias para la lógica de cambio de aspecto y pantalla completa.
27. [x] Permitir restablecer los colores y figuras personalizados de las familias a los valores predeterminados.
28. [x] Permitir exportar e importar la configuración de familias e instrumentos en archivos JSON.
29. [x] Crear pruebas unitarias para la exportación e importación de configuraciones.
30. [x] Refactorizar la lógica de la interfaz en módulos separados y crear pruebas de integración básicas.
31. [x] Optimizar el renderizado de notas utilizando técnicas de canvas offscreen.
32. [x] Modularizar la lógica de carga de archivos MIDI y WAV en componentes separados.
33. Crear pruebas unitarias para el renderizado mediante canvas offscreen.
34. Modularizar la lógica de reproducción de audio en un componente separado.
35. Crear pruebas unitarias para la lógica modular de reproducción de audio.
36. [x] El color de fondo del canvas debe ser negro absoluto, pero en el panel inferior debe existir la posibilidad de cambiar el color del canvas.
37. [x] La línea de presente debe ser invisible.
38. [x] Las cápsulas deben ser rectángulos con esquinas redondeadas.
39. [x] El botón de play debe funcionar así esté cargado solo el MIDI/XML sin audio, o el audio sin MIDI/XML.
40. [ ] La animación debe estar en 60 fps fijos SIEMPRE, y no depender de la frecuencia de la pantalla.
41. [ ] La velocidad del midi debe salir del tempo map, y NO ser una velocidad constante.
42. [ ] El brillo de las figuras al pasar por la línea de presente debe ser de tipo glow/blur, y parecer una sombra más que una línea definida.
43. [ ] Los triángulos deben ser equiláteros con el ángulo superior al medio de la figura.
44. [ ] En algún menú debe existir la posibilidad de activar o desactivar instrumentos para incluirlos o eliminarlos de la animación.
45. [x] Crear pruebas unitarias para la personalización del color del canvas.
46. [x] Corregir el bug que impedía aplicar el color de fondo seleccionado al canvas en cada frame.
47. [x] Crear pruebas unitarias para el botón Play funcionando con solo MIDI/XML o solo WAV.
